(()=>{"use strict";const e=()=>{document.querySelectorAll(".progress").forEach((e=>{e.addEventListener("input",(function(){let e=this.value;this.style.background=`linear-gradient(to right, #710707 0%, #710707 ${e}%, #C4C4C4 ${e}%, #C4C4C4 100%)`}))}))},t=()=>{const e=document.querySelector(".pictures-inner-container"),t=document.querySelectorAll(".pictures-inner-container-item");let n=[];for(let e=0;e<t.length;e++)n[e]=t[e].getAttribute("src"),t[e].remove();n.sort((()=>Math.random()-.5));for(let t=0;t<n.length;t++){const o=document.createElement("img");o.classList.add("pictures-inner-container-item"),o.src=n[t],o.alt=`galery${t}`,e.append(o),0!=t&&10!=t||o.classList.add("additional-padding")}if(window.innerWidth<1023){const e=document.querySelectorAll(".pictures-inner-container-item");e.forEach((e=>{e.classList.remove("additional-padding")}));for(let t=0;t<e.length;t++)0==t&&e[t].classList.add("additional-padding")}window.addEventListener("resize",(()=>{if(window.innerWidth<1023){const e=document.querySelectorAll(".pictures-inner-container-item");e.forEach((e=>{e.classList.remove("additional-padding")}));for(let t=0;t<e.length;t++)0==t&&e[t].classList.add("additional-padding")}}))},n=()=>{const e=document.querySelector("#date"),t=document.querySelector("#time");document.querySelector(".modal-booking-select"),document.querySelectorAll("option");e.addEventListener("change",(()=>{e.classList.add("date")})),t.addEventListener("click",(()=>{t.classList.add("time")}))},o=()=>{const e=document.querySelector(".tickets-btn"),t=document.querySelector(".modal-close"),n=document.querySelector(".modal"),o=document.querySelector(".overlay");document.querySelector(".modal-submit").addEventListener("click",(e=>{e.preventDefault()})),e.addEventListener("click",(()=>{n.classList.add("modal-opened"),n.style.left="50%",n.style.transform="translateX(-50%) translateY(-55%)",o.style.display="block"})),t.addEventListener("click",(()=>{n.style.left="-200vw",n.style.transform="translateX(-50%) translateY(-50%)",o.style.display="none"})),o.addEventListener("click",(e=>{e.target!==n&&(n.style.left="-100vw",n.style.transform="translateX(-50%) translateY(-50%)",o.style.display="none")}));let r=document.querySelectorAll(".rent-type-mark"),a=document.querySelector(".tickets-rent-amount-number-input-basic"),l=document.querySelector(".up-btn-basic"),s=document.querySelector(".down-btn-basic"),c=document.querySelector(".tickets-rent-amount-number-input-senior"),i=document.querySelector(".up-btn-senior"),d=document.querySelector(".down-btn-senior"),m=document.querySelector(".modal-amount-number-input-basic"),u=document.querySelector(".up-btn-basic-form"),g=document.querySelector(".down-btn-basic-form"),v=document.querySelector(".modal-amount-number-input-senior"),b=document.querySelector(".up-btn-senior-form"),y=document.querySelector(".down-btn-senior-form"),p=document.querySelector(".modal-booking-select"),h=document.querySelector(".overview-basic-number"),S=document.querySelector(".overview-senior-number"),L=document.querySelector(".modal-overview-ticket-type"),f=document.querySelector(".overview-basic-number-sum"),w=document.querySelector(".overview-senior-number-sum"),I=document.querySelector(".modal-overview-total-wrapper-sum"),E=document.querySelector(".total-numbers"),q=[20,25,40],k=["Permanent Exhibition","Temporary Exhibition","Combined Admission"];function x(){let e=+q[localStorage.getItem("type-number")]*(+localStorage.getItem("basic-number")+.5*+localStorage.getItem("senior-number"));E.innerText=e}function T(){let e=q[localStorage.getItem("type-number")];m.value=localStorage.getItem("basic-number"),v.value=localStorage.getItem("senior-number"),p.value=localStorage.getItem("type-number"),h.innerText=localStorage.getItem("basic-number"),S.innerText=localStorage.getItem("senior-number"),L.innerText=k[localStorage.getItem("type-number")],f.innerText=+localStorage.getItem("basic-number")*e+" €",w.innerText=+localStorage.getItem("senior-number")*e+" €",I.innerText=+localStorage.getItem("basic-number")*e+ +localStorage.getItem("senior-number")*e+" €"}x(),T(),null==localStorage.getItem("type-number")&&localStorage.setItem("type-number",0);for(let e=0;e<r.length;e++)r[localStorage.getItem("type-number")].setAttribute("checked","");r.forEach((e=>{e.addEventListener("click",(e=>{r.forEach((e=>{e.removeAttribute("checked")})),e.target.setAttribute("checked","");for(let e=0;e<r.length;e++)r[e].hasAttribute("checked")&&localStorage.setItem("type-number",[e]);x(),T()}))})),null==localStorage.getItem("basic-number")&&localStorage.setItem("basic-number",1),null==localStorage.getItem("senior-number")&&localStorage.setItem("senior-number",1),a.value=localStorage.getItem("basic-number"),c.value=localStorage.getItem("senior-number"),l.addEventListener("click",(()=>{+localStorage.getItem("basic-number")+1<=20?localStorage.setItem("basic-number",+localStorage.getItem("basic-number")+1):localStorage.setItem("basic-number",20),x(),T()})),s.addEventListener("click",(()=>{+localStorage.getItem("basic-number")-1>=0?localStorage.setItem("basic-number",+localStorage.getItem("basic-number")-1):localStorage.setItem("basic-number",0),x(),T()})),i.addEventListener("click",(()=>{+localStorage.getItem("senior-number")+1<=20?localStorage.setItem("senior-number",+localStorage.getItem("senior-number")+1):localStorage.setItem("senior-number",20),x(),T()})),d.addEventListener("click",(()=>{+localStorage.getItem("senior-number")-1>=0?localStorage.setItem("senior-number",+localStorage.getItem("senior-number")-1):localStorage.setItem("senior-number",0),x(),T()})),document.querySelector(".custom-select").addEventListener("click",(()=>{let e=document.querySelector(".same-as-selected");"Permanent exhibition"===e.innerText?localStorage.setItem("type-number",0):"Temporary exhibition"===e.innerText?localStorage.setItem("type-number",1):"Combined Admission"===e.innerText&&localStorage.setItem("type-number",2),T()})),u.addEventListener("click",(()=>{+localStorage.getItem("basic-number")+1<=20?localStorage.setItem("basic-number",+localStorage.getItem("basic-number")+1):localStorage.setItem("basic-number",20),T()})),g.addEventListener("click",(()=>{+localStorage.getItem("basic-number")-1>=0?localStorage.setItem("basic-number",+localStorage.getItem("basic-number")-1):localStorage.setItem("basic-number",0),T()})),b.addEventListener("click",(()=>{+localStorage.getItem("senior-number")+1<=20?localStorage.setItem("senior-number",+localStorage.getItem("senior-number")+1):localStorage.setItem("senior-number",20),T()})),y.addEventListener("click",(()=>{+localStorage.getItem("senior-number")+1<=20?localStorage.setItem("senior-number",+localStorage.getItem("senior-number")+1):localStorage.setItem("senior-number",20),T()}));let A=document.querySelector("#date"),C=document.querySelector("#time"),$=document.querySelector(".modal-overview-date"),M=document.querySelector(".modal-overview-time");A.addEventListener("change",(()=>{let e=(new Date).getTime(),t={weekday:"long",month:"long",day:"numeric"};if(Date.parse(A.value)<e-864e5)A.valueAsDate=null,alert("You can't choose time in the past!");else{let e=new Date(A.value).toLocaleDateString("en",t);$.innerText=e}})),C.addEventListener("change",(()=>{M.innerText=C.value}));let N=/^[a-zA-Zа-яА-Я\ ]+$/,D=/^[a-zA-Z0-9_-]{3,15}[@]{1}[a-zA-Z]{4,}[.]{1}[a-zA-Z]{2,}$/g,H=/^[0-9]{1,10}$/,Y=/^[0-9]{2}[-\ ]?$/,B=/^[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?$/,z=/^[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?$/,X=/^[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?$/,P=/^[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?[0-9]{2}[-\ ]?$/,W=/^[0-9]{3}[-\ ]?$/,Z=/^[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?$/,V=/^[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?$/,R=/^[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?[0-9]{0,1}[-\ ]?$/,O=/^[0-9]{0,1}[-\ ]?[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?[0-9]{3}[-\ ]?$/,_=document.querySelector(".modal-booking-text"),J=document.querySelector(".name-error"),K=document.querySelector(".modal-booking-email"),j=document.querySelector(".email-error"),Q=document.querySelector(".modal-booking-tel"),U=document.querySelector(".phone-error"),F="Name is Invalid!",G="Email is Invalid!",ee="Phone number is Invalid!";_.onblur=function(){let e=_.value.match(N);console.log(e),e&&_.value.length>2&&_.value.length<16?J.style.display="none":(_.value="",J.style.display="block",J.innerText=F)},K.onblur=function(){K.value.match(D)?j.style.display="none":(K.value="",j.style.display="block",j.innerText=G)},Q.onblur=function(){Q.value.match(H)||Q.value.match(Y)||Q.value.match(B)||Q.value.match(z)||Q.value.match(X)||Q.value.match(P)||Q.value.match(W)||Q.value.match(Z)||Q.value.match(V)||Q.value.match(R)||Q.value.match(O)?U.style.display="none":(Q.value="",U.style.display="block",U.innerText=ee)}},r=()=>{const e=document.querySelector("[data-ripple]");e.addEventListener("mousedown",(t=>{const n=e.getBoundingClientRect(),o=t.clientX,r=t.clientY-n.top,a=n.height-r,l=o-n.left,s=n.width-l,c=Math.ceil(Math.max(s,l,r,a)),i=function(e,t,n){const o=document.createElement("div");return o.className="ripple-pad",o.style.width=`${n}px`,o.style.height=`${n}px`,o.style.left=`${e}px`,o.style.top=`${t}px`,o.style.borderRadius=`${n}px`,o}(l-c,r-c,2*c);e.appendChild(i),i.addEventListener("animationend",(({animationName:e})=>{"RippleEffect"===e&&i.remove()}))}))},a=()=>{var e,t,n,o,r,a,l,s,c;for(o=(e=document.getElementsByClassName("custom-select")).length,t=0;t<o;t++){for(r=(a=e[t].getElementsByTagName("select")[0]).length,(l=document.createElement("DIV")).setAttribute("class","select-selected"),l.innerHTML=a.options[a.selectedIndex].innerHTML,e[t].appendChild(l),(s=document.createElement("DIV")).setAttribute("class","select-items select-hide"),n=1;n<r;n++)(c=document.createElement("DIV")).innerHTML=a.options[n].innerHTML,c.addEventListener("click",(function(e){var t,n,o,r,a,l,s;for(l=(r=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,a=this.parentNode.previousSibling,n=0;n<l;n++)if(r.options[n].innerHTML==this.innerHTML){for(r.selectedIndex=n,a.innerHTML=this.innerHTML,s=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,o=0;o<s;o++)t[o].removeAttribute("class");this.setAttribute("class","same-as-selected");break}a.click()})),s.appendChild(c);e[t].appendChild(s),l.addEventListener("click",(function(e){e.stopPropagation(),i(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function i(e){var t,n,o,r,a,l=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),r=t.length,a=n.length,o=0;o<a;o++)e==n[o]?l.push(o):n[o].classList.remove("select-arrow-active");for(o=0;o<r;o++)l.indexOf(o)&&t[o].classList.add("select-hide")}document.addEventListener("click",i)},l=()=>{const e=document.querySelector(".header-burger"),t=document.querySelector(".menu"),n=document.querySelector(".menu-list"),o=document.querySelectorAll(".menu-list-item"),r=document.querySelector(".welcome-text"),a=document.querySelectorAll(".header-burger-item");e.addEventListener("click",(n=>{n.stopPropagation(),e.classList.contains("opened")?(t.style.left="-220vw",r.classList.add("unhide"),r.classList.remove("hide"),e.classList.remove("opened"),a[0].classList.remove("rotate-left"),a[1].classList.remove("hidden"),a[2].classList.remove("rotate-right")):(t.style.left="0",r.classList.add("hide"),r.classList.remove("unhide"),e.classList.add("opened"),a[0].classList.add("rotate-left"),a[1].classList.add("hidden"),a[2].classList.add("rotate-right"))})),document.addEventListener("click",(o=>{o.target!==t&&o.target!==n&&(t.style.left="-220vw",r.classList.add("unhide"),r.classList.remove("hide"),e.classList.remove("opened"),a[0].classList.remove("rotate-left"),a[1].classList.remove("hidden"),a[2].classList.remove("rotate-right"))})),o.forEach((n=>{document.addEventListener("click",(o=>{o.target===n&&(t.style.left="-220vw",r.classList.add("unhide"),r.classList.remove("hide"),e.classList.remove("opened"),a[0].classList.remove("rotate-left"),a[1].classList.remove("hidden"),a[2].classList.remove("rotate-right"))}))}))},s=()=>{let e=document.querySelectorAll(".carousel-item"),t=0,n=!0,o=document.querySelectorAll(".slider-panel-dots-item"),r=document.querySelector(".slider-panel-numbers-current");function a(n){o[t].classList.remove("dot-active"),t=(n+e.length)%e.length,o[t].classList.add("dot-active"),r.textContent=`0${t+1}`}function l(o){n=!1,e[t].classList.add(o),e[t].addEventListener("animationend",(function(){this.classList.remove("active",o)}))}function s(o){e[t].classList.add("next",o),e[t].addEventListener("animationend",(function(){this.classList.remove("next",o),this.classList.add("active"),n=!0}))}function c(e){l("to-right"),a(e-1),s("from-left")}function i(e){l("to-left"),a(e+1),s("from-right")}document.querySelector(".slider-panel-arrows-prev").addEventListener("click",(function(){n&&c(t)})),document.querySelector(".slider-panel-arrows-next").addEventListener("click",(function(){n&&i(t)}));(e=>{let o=e,r=0,a=0,l=0,s=0,d=0,m=0;o.addEventListener("mousedown",(function(e){r=e.pageX,a=e.pageY,d=(new Date).getTime(),e.preventDefault()})),o.addEventListener("mouseup",(function(e){l=e.pageX-r,s=e.pageY-a,m=(new Date).getTime()-d,m<=300&&Math.abs(l)>=150&&Math.abs(s)<=100&&(l>0?n&&c(t):n&&i(t))}))})(document.querySelector(".carousel"));for(let e=0;e<o.length;e++)o[e].addEventListener("click",(()=>{n&&(e<t&&(l("to-right"),a(e),s("from-left")),e>t&&(l("to-left"),a(e),s("from-right")))}))},c=()=>{var e,t;for(e=document.getElementsByClassName("explore-item-overlay"),t=0;t<e.length;t++)n(e[t]);function n(e){var t,n,o,r=0;function a(e){e.preventDefault(),r=1,window.addEventListener("mousemove",s),window.addEventListener("touchmove",s)}function l(){r=0}function s(o){var a;if(0==r)return!1;a=function(t){var n,o=0;return t=t||window.event,n=e.getBoundingClientRect(),o=t.pageX-n.left,o-=window.pageXOffset}(o),a<0&&(a=0),a>n&&(a=n),function(n){e.style.width=n+"px",t.style.left=e.offsetWidth+"px"}(a)}n=e.offsetWidth,o=e.offsetHeight,e.style.width=n/2+"px",(t=document.querySelector(".explore-element")).style.top=o/2-t.offsetHeight/2+"px",t.style.left=n/2+"px",t.addEventListener("mousedown",a),window.addEventListener("mouseup",l),t.addEventListener("touchstart",a),window.addEventListener("touchstop",l)}},i=()=>{const e=document.querySelectorAll(".pictures-inner-container-item"),t=document.querySelector(".gallery");function n(n){e.forEach((e=>{let n=window.scrollY+window.innerHeight>=t.offsetTop+e.offsetTop+e.height/4;n&&!e.classList.contains("gallery-shown")&&(e.classList.add("gallery-active"),e.addEventListener("animationend",(()=>{e.classList.add("gallery-shown")}))),n||(e.classList.remove("gallery-active"),e.classList.remove("gallery-shown"))}))}n(),window.addEventListener("scroll",n)},d=()=>{mapboxgl.accessToken="pk.eyJ1IjoiZHVtYnVzIiwiYSI6ImNrdWszNm1yazBwdDAydnBlcmhxdWsyeXYifQ.b-cwn5KK_PbzwLkU_23CJw";let e=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v9",zoom:15.75,center:[2.3364,48.86091]}),t=new mapboxgl.NavigationControl({showCompass:!0,showZoom:!0});e.addControl(t,"top-right");new mapboxgl.Marker({color:"#000000"}).setLngLat([2.3364,48.86091]).addTo(e),new mapboxgl.Marker({color:"#828282"}).setLngLat([2.3333,48.8602]).addTo(e),new mapboxgl.Marker({color:"#828282"}).setLngLat([2.3397,48.8607]).addTo(e),new mapboxgl.Marker({color:"#828282"}).setLngLat([2.333,48.8619]).addTo(e),new mapboxgl.Marker({color:"#828282"}).setLngLat([2.3365,48.8625]).addTo(e)},m=()=>{let e=document.querySelector(".scroll-up-icon");document.addEventListener("scroll",(()=>{window.scrollY>1500?(e.classList.remove("scroll-inactive"),e.classList.add("scroll-active"),e.addEventListener("animationend",(()=>{e.classList.add("scroll-shown")}))):e.classList.contains("scroll-active")&&(e.classList.remove("scroll-active"),e.classList.add("scroll-inactive"),e.addEventListener("animationend",(()=>{e.classList.remove("scroll-shown")})))}))};window.addEventListener("DOMContentLoaded",(()=>{e(),t(),n(),o(),r(),a(),l(),s(),c(),i(),d(),m()}))})();